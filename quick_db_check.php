<?php\nrequire 'vendor/autoload.php';\n\$app = require_once 'bootstrap/app.php';\n\nuse Illuminate\\Database\\Capsule\\Manager as Capsule;\nuse Illuminate\\Database\\Connectors\\MySqlConnector;\nuse Illuminate\\Support\\Facades\\DB;\n\necho \"\\n========== DATABASE CHECK ==========\\n\\n\";\n\ntry {\n    // Direct SQL check\n    \$pdo = new PDO(\n        'mysql:host=localhost;dbname=bumisultan',\n        'bumisultan',\n        'admin123'\n    );\n    \n    echo \"✓ Database connected\\n\\n\";\n    \n    // Check Pinjaman table\n    \$pinjamanStmt = \$pdo->query('SELECT * FROM pinjaman LIMIT 5');\n    \$pinjaman = \$pinjamanStmt->fetchAll(PDO::FETCH_ASSOC);\n    \n    echo \"[PINJAMAN TABLE]\\n\";\n    echo \"Total records: \" . count(\$pinjaman) . \"\\n\";\n    \n    foreach (\$pinjaman as \$p) {\n        echo \"\\nID: {$p['id']}\";\n        echo \" | Nomor: {$p['nomor_pinjaman']}\";\n        echo \" | Karyawan ID: {$p['karyawan_id']}\";\n        echo \" | Status: {$p['status']}\";\n    }\n    \n    echo \"\\n\\n[KARYAWAN RELATION CHECK]\\n\";\n    \n    // Check if karyawan_id exists in karyawan table\n    if (!empty(\$pinjaman)) {\n        \$karyawanId = \$pinjaman[0]['karyawan_id'];\n        \n        if (\$karyawanId) {\n            \$karyawanStmt = \$pdo->prepare('SELECT nik, nama_karyawan FROM karyawan WHERE nik = ? OR id = ?');\n            \$karyawanStmt->execute([\$karyawanId, \$karyawanId]);\n            \$karyawan = \$karyawanStmt->fetch(PDO::FETCH_ASSOC);\n            \n            if (\$karyawan) {\n                echo \"✓ Karyawan found: {$karyawan['nama_karyawan']}\\n\";\n            } else {\n                echo \"✗ Karyawan NOT found for ID/NIK: {$karyawanId}\\n\";\n            }\n        } else {\n            echo \"✗ karyawan_id is NULL\\n\";\n        }\n    }\n    \n    echo \"\\n\";\n    \n} catch (\\Exception \$e) {\n    echo \"✗ Error: \" . \$e->getMessage() . \"\\n\";\n}\n"